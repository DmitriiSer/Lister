<!DOCTYPE html>
<html ng-app="appLister">
    <head>
        <!--TODO fix mobile devices support-->
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width, minimal-ui">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
        <meta http-equiv="encoding" content="utf-8">
        <meta http-equiv="Content-Security-Policy" content="default-src *; script-src 'self' 'unsafe-inline' 'unsafe-eval' *; style-src 'self' 'unsafe-inline' *; media-src *">
        <!--styles-->
        <!-- Ionic styles -->
        <link rel="stylesheet" type="text/css" href="lib/ionic/css/ionic.min.css">
        <!-- <link rel="stylesheet" type="text/css" href="css/style.css"> -->
        <!-------------------------------------------------------->
        <link rel="shortcut icon" href="icons/supermarket35.png">
        <link rel="apple-touch-icon" href="icons/supermarket35.png">
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lobster%7CMontserrat%3A400%2C700%7COpen%20Sans%20Condensed%3A300%2C700">
        <link rel="stylesheet" type="text/css" href="css/font-awesome.min.4.4.0.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.3.3.5.css">
        <link rel="stylesheet" type="text/css" href="css/styles.css">
        <link rel="stylesheet" type="text/css" href="css/animations.css">
        <link rel="stylesheet" type="text/css" href="css/avatars.css">
        <link rel="stylesheet" type="text/css" href="css/navbar.css">
        <link rel="stylesheet" type="text/css" href="css/login.css">
        <link rel="stylesheet" type="text/css" href="css/home.css">
        <link rel="stylesheet" type="text/css" href="css/listEditor.css">
        <!--scripts-->
        <!--TODO change to minified version-->
        <script type="application/javascript" src="lib/modernizr-touch-events.js"></script>
        <!-- Ionic Scripts -->
        <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above -->
        <!--<link href="css/ionic.app.css" rel="stylesheet">-->
        <!-- ionic/angularjs js (already included angular.js) -->
        <script src="lib/ionic/js/ionic.bundle.js"></script>
        <!------------------------->
        <script type="application/javascript" src="lib/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
        <script type="application/javascript" src="lib/velocity/velocity.min.js"></script>
        <script type="application/javascript" src="lib/ngDraggable/ngDraggable_modified.js"></script>
        <script type="application/javascript" src="lib/textarea-caret-position.js"></script>
        <script type="application/javascript" src="lib/cryptojslib/rollups/sha3.js"></script>
        <!--user scripts-->
        <script type="application/javascript" src="js/roulette.js"></script>
        <script type="application/javascript" src="js/directives.js"></script>
        <script type="application/javascript" src="js/services.js"></script>
        <script type="application/javascript" src="js/controllers.js"></script>
        <script type="application/javascript" src="js/app.js"></script>
        <!-- cordova script (this will be a 404 during development) -->
        <script src="lib/ngCordova/dist/ng-cordova.min.js"></script>
        <script src="cordova.js"></script>
        <!-- templates -->
        <script type="text/ng-template" id="passwordPopoverHtml.html">
            <div ng-include="'partials/passwordPopoverHtml.html'"></div>
        </script>
        <script type="text/ng-template" id="avatarPopoverHtml.html">
            <div ng-include="'partials/avatarPopoverHtml.html'" ng-mouseup="chooseAvatar($event)"></div>
        </script>
        <!--append base if platfor is not Android-->
        <script>
            //if (ionic.Platform.platform() !== "android") {
            if (!ionic.Platform.isWebView()) {
                var head = document.getElementsByTagName("head")[0];
                var base = document.createElement("base");
                base.href = "/";
                head.appendChild(base);
            }
        </script>
        <!--title-->
        <title>Lister</title>
        <!-- no enabled javascript-->
        <noscript>Your browser does not support JavaScript!</noscript>
    </head>
    <body ng-controller="RootController" ng-width="">
    <alert-window></alert-window>
    <confirmation-window></confirmation-window>
    <ion-side-menus enable-menu-with-back-views="true">
        <ion-side-menu-content drag-content="true">
            <ion-nav-bar class="bar-stable" ng-show="isLoggedIn()">
                <ion-nav-buttons side="right">
                    <button class="button button-icon button-clear" menu-toggle="right">
                        <div class="avatar-circle">
                            <div class="avatars absolute-center">
                                <div class="avatar {{userProfile.avatar}}"></div>
                            </div>
                        </div>
                    </button>
                </ion-nav-buttons>
            </ion-nav-bar>
            <div class="bg-image blur"></div>
            <div class="content">
                <header><navbar></navbar></header>
                <ion-nav-view></ion-nav-view>
                <footer>
                    &#xA9;2015 Dmitrii Serikov
                    <div class="pull-right">
                        Avatars <a href="http://www.freepik.com/free-vector/user-avatars-pack_746488.htm">designed by Freepik</a>.
                        Icons made by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a>             is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0">CC BY 3.0</a>
                    </div>
                </footer>
            </div>
        </ion-side-menu-content>
        <!-- Side Menu -->
        <ion-side-menu side="right" ng-show="isLoggedIn()">
            <ion-header-bar class="bar-stable">
                <!--<div class="avatar-circle">
                <div class="avatars small animate-show slow">
                    <div class="avatar {{userProfile.avatar}}"></div>
                </div>
                <!--</div>-->
                <h1 class="title">{{userProfile.username}}</h1>
            </ion-header-bar>
            <ion-content>
                <ion-list>
                    <ion-item menu-close="" href="#" ng-click="$root.addList($event)">Create a list</ion-item>
                    <!-- TODO: <ion-item href="#/app/browse">Settings</ion-item> -->
                    <ion-item menu-close="" ng-click="logout()">Log Out</ion-item>
                </ion-list>
            </ion-content>
        </ion-side-menu>
    </ion-side-menus>
</body>
</html>